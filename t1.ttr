global v = 0 

def main():
    print("In main, global v = ", v, "\n")
    doStuff()
    print("Just returned to main from doStuff() and v = ", v, "\n")

def doStuff():
    x = 2
    print("In doStuff(), just created x and x = ", x, "\n")
    background:
        print("In background task in doStuff().","\n")
        for z in [1 ... 1000]:
            pass
        v += x
        print("Exited for loop, still in task, just added x to v and v = ",v,"\n")
